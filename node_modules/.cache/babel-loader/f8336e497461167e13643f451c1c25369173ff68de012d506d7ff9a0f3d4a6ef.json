{"ast":null,"code":"import axios from 'axios';\nconst url_api = 'https://pncp.gov.br/api/consulta/v1/contratos';\nexport const fetchOrgaoInfo = async (cnpj, dataInicial, dataFinal) => {\n  try {\n    // requisição para a api\n    const resposta = await axios.get(`${url}/orgaos`, {\n      params: {\n        cnpj,\n        dataInicial,\n        dataFinal\n      }\n    });\n    console.log(resposta.data);\n\n    //adquirindo informações do órgão\n    const orgao = {\n      razaoSocial: resposta.data.orgao.razaoSocial,\n      cnpj: resposta.data.orgao.cnpj,\n      ufNome: resposta.data.orgao.ufNome,\n      municipioNome: resposta.data.orgao.municipioNome\n    };\n\n    //adquirindo informações dos contratos\n    const contratos = resposta.data.contratos.map(contrato => ({\n      numeroContratoEmpenho: contrato.numeroContratoEmpenho,\n      dataVigenciaInicio: contrato.dataVigenciaInicio,\n      dataVigenciaFim: contrato.dataVigenciaFim,\n      nomeRazaoSocialFornecedor: contrato.nomeRazaoSocialFornecedor,\n      objetoContrato: contrato.objetoContrato,\n      valorInicial: contrato.valorInicial\n    }));\n\n    //retorna as informações de contratos e órgãos\n    return {\n      orgao,\n      contratos\n    };\n  } catch (error) {\n    console.error('Erro na busca de dados do órgão!', error);\n    return null;\n  }\n};","map":{"version":3,"names":["axios","url_api","fetchOrgaoInfo","cnpj","dataInicial","dataFinal","resposta","get","url","params","console","log","data","orgao","razaoSocial","ufNome","municipioNome","contratos","map","contrato","numeroContratoEmpenho","dataVigenciaInicio","dataVigenciaFim","nomeRazaoSocialFornecedor","objetoContrato","valorInicial","error"],"sources":["C:/Users/tuliana/orgsearch/src/api/pncpAPI.ts"],"sourcesContent":["import axios from 'axios';\r\nimport {InfoOrgao, InfoContrato} from '../tipos/index';\r\n\r\nconst  url_api = 'https://pncp.gov.br/api/consulta/v1/contratos';\r\n\r\nexport const fetchOrgaoInfo = async (cnpj: string, dataInicial: string, dataFinal: string) => {\r\n    try {\r\n        // requisição para a api\r\n        const resposta = await axios.get(`${url}/orgaos`, {\r\n            params: {\r\n                cnpj,\r\n                dataInicial,\r\n                dataFinal,\r\n            },\r\n        });\r\n\r\n        console.log(resposta.data);\r\n        \r\n        //adquirindo informações do órgão\r\n        const orgao: InfoOrgao = {\r\n            razaoSocial: resposta.data.orgao.razaoSocial,\r\n            cnpj: resposta.data.orgao.cnpj,\r\n            ufNome: resposta.data.orgao.ufNome,\r\n            municipioNome: resposta.data.orgao.municipioNome,\r\n        };\r\n        \r\n        //adquirindo informações dos contratos\r\n        const contratos: InfoContrato[] = resposta.data.contratos.map((contrato: any) => ({\r\n            numeroContratoEmpenho: contrato.numeroContratoEmpenho,\r\n            dataVigenciaInicio: contrato.dataVigenciaInicio,\r\n            dataVigenciaFim: contrato.dataVigenciaFim,\r\n            nomeRazaoSocialFornecedor: contrato.nomeRazaoSocialFornecedor,\r\n            objetoContrato: contrato.objetoContrato,\r\n            valorInicial: contrato.valorInicial,\r\n          }));\r\n\r\n        //retorna as informações de contratos e órgãos\r\n        return{orgao, contratos};\r\n\r\n        } catch (error) {\r\n            console.error('Erro na busca de dados do órgão!', error);\r\n            return null;\r\n        }\r\n        };"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAOC,OAAO,GAAG,+CAA+C;AAEhE,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAOC,IAAY,EAAEC,WAAmB,EAAEC,SAAiB,KAAK;EAC1F,IAAI;IACA;IACA,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAC,GAAGC,GAAG,SAAS,EAAE;MAC9CC,MAAM,EAAE;QACJN,IAAI;QACJC,WAAW;QACXC;MACJ;IACJ,CAAC,CAAC;IAEFK,OAAO,CAACC,GAAG,CAACL,QAAQ,CAACM,IAAI,CAAC;;IAE1B;IACA,MAAMC,KAAgB,GAAG;MACrBC,WAAW,EAAER,QAAQ,CAACM,IAAI,CAACC,KAAK,CAACC,WAAW;MAC5CX,IAAI,EAAEG,QAAQ,CAACM,IAAI,CAACC,KAAK,CAACV,IAAI;MAC9BY,MAAM,EAAET,QAAQ,CAACM,IAAI,CAACC,KAAK,CAACE,MAAM;MAClCC,aAAa,EAAEV,QAAQ,CAACM,IAAI,CAACC,KAAK,CAACG;IACvC,CAAC;;IAED;IACA,MAAMC,SAAyB,GAAGX,QAAQ,CAACM,IAAI,CAACK,SAAS,CAACC,GAAG,CAAEC,QAAa,KAAM;MAC9EC,qBAAqB,EAAED,QAAQ,CAACC,qBAAqB;MACrDC,kBAAkB,EAAEF,QAAQ,CAACE,kBAAkB;MAC/CC,eAAe,EAAEH,QAAQ,CAACG,eAAe;MACzCC,yBAAyB,EAAEJ,QAAQ,CAACI,yBAAyB;MAC7DC,cAAc,EAAEL,QAAQ,CAACK,cAAc;MACvCC,YAAY,EAAEN,QAAQ,CAACM;IACzB,CAAC,CAAC,CAAC;;IAEL;IACA,OAAM;MAACZ,KAAK;MAAEI;IAAS,CAAC;EAExB,CAAC,CAAC,OAAOS,KAAK,EAAE;IACZhB,OAAO,CAACgB,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IACxD,OAAO,IAAI;EACf;AACA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}